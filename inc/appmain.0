# app_main
# [[file:~/Dropbox/commonplace/software/applib.org::*app_main][app_main:1]]
copyright_app () 
{ 
    comment "Copyright (C) 2005-2016, JYATL - Just Yet Another Testing Lab";
    comment "mailto: mcgowan (at) alum DOT mit DOT edu";
}
app_fun () 
{ 
    : recursively w/for_nomar and app_uses, find all called functions;
    : FIX tracing;
    : FIX fuse finding functions behind ":"s.;
    set $(for_nomar app_uses $* | tail -1);
    shift;
    echo $* $(app_trace $*) | wpl | sort -u
}
app_init () 
{ 
    : see if _firsttime should go in fam_iam, fam_generic;
    source auxlib 2> /dev/null;
    needfrom fixlib fun_extract;
    fam_iam;
    isfunction app_firsttime && app_firsttime
}
app_trace () 
{ 
    case $* in 
        *trace_*)
            echo trace_on trace_off trace_stderr trace_call
        ;;
    esac
}
app_uses () 
{ 
    : find all used functions w/o smart functions;
    : FIX smartf;
    : FIX fun_uses, reconcile multiple instances !!!;
    trace_call $*;
    fun_uses $* | grep -v '^smartf'
}
# app_main:1 ends here
